<% edit = false unless defined? edit %>
<% load = false unless defined? load %>

<p>
  <b>Environment:</b>
  <%= dataset.environment %>
    <% if user_signed_in? && current_user.is_admin? && edit %>
        <%= link_to raw("<span class='glyphicon glyphicon-pencil'></span> Edit"), edit_dataset_path(dataset), :class => 'btn btn-default btn-xs' %>
        <%= link_to raw("<span class='glyphicon glyphicon-trash'></span> Delete"), dataset, data: {confirm: 'Are you sure?'}, :method => :delete, :class => 'btn btn-xs btn-danger' %>
    <% end %>
    <br/>

  <b>Reference:</b>
  <%= dataset.reference %> <%= link_to raw("<span class='glyphicon glyphicon-share-alt'></span>"), dataset.url, :target => "_blank", :title => "Article website" %>.
    <%= link_to "Project website", dataset.project_website, :target => "_blank" %>

<% if load %>
    <br/>
    <span class="form-inline">
    <%= select("dataset", dataset.id, dataset.dataset_items.map {|item| [item.name,dataset_item_path(item)]}, {}, :class => "form-control dataset") %>
    <%= button_tag(raw("Load dataset"), { :type => "button", :class => "load-dataset btn btn-default", :"data-loading-text" => "Loading..." }) %>
    </span>
<% else %>
    <ul>
    <% for item in dataset.dataset_items %>
        <li><%= item.name %></li>
    <% end %>
    </ul>
<% end %>
</p>
